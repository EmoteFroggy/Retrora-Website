<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Retrora & Co.</title>
    <!-- Google Fonts -->
    <link
      href="https://fonts.googleapis.com/css2?family=Big+Noodle+Titling&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Press+Start+2P&family=Roboto:wght@400;500&display=swap"
      rel="stylesheet"
    />
    <!-- Font Awesome CDN (Free version) -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
      crossorigin="anonymous"
    />
    <style>
      /* Reset & Global Styles */
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Big Noodle Titling", cursive;
        background: linear-gradient(135deg, #111 0%, #222 50%, #111 100%);
        color: #eee;
        line-height: 1.6;
        overflow-x: hidden;
        position: relative;
        padding-top: 80px;
      }

      a {
        text-decoration: none;
        transition: color 0.3s;
      }

      a:hover {
        color: #ffa0b0;
      }

      /* Header */
      header {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        background: rgba(10, 10, 10, 1);
        padding: 10px 0;
        z-index: 1002;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.8);
      }

      header h1 {
        font-family: "Press Start 2P", cursive;
        font-size: 1.5em;
        color: #ff688c;
        text-align: center;
        margin-bottom: 5px;
      }

      /* Social Links Container */
      .social-links {
        display: flex;
        justify-content: center;
        gap: 10px;
        flex-wrap: wrap;
        padding: 0 10px;
      }

      .social-button {
        width: 45px;
        height: 45px;
        background: #000;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        box-shadow: 0 0 10px #ff688c;
        transition: transform 0.3s, box-shadow 0.3s;
        color: #ff688c;
        position: relative;
        overflow: hidden;
      }

      .social-button::before {
        content: "";
        position: absolute;
        width: 0;
        height: 0;
        background: rgba(255, 104, 140, 0.3);
        border-radius: 50%;
        transition: width 0.3s, height 0.3s;
      }

      .social-button:hover::before {
        width: 100%;
        height: 100%;
      }

      .social-button:hover {
        transform: scale(1.1);
        box-shadow: 0 0 15px #ff688c;
      }

      .social-button.bluesky svg {
        width: 60%;
        height: auto;
        fill: #ff688c;
      }

      /* Container for page content with a subtle particle background */
      .container {
        width: 90%;
        max-width: 1200px;
        margin: 100px auto 20px;
        position: relative;
      }

      .container::after {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        width: 150%;
        height: 100%;
        background-image: radial-gradient(
          rgba(255, 255, 255, 0.1) 1px,
          transparent 1px
        );
        background-size: 50px 50px;
        opacity: 0.2;
        pointer-events: none;
        animation: moveParticles 20s linear infinite;
      }

      @keyframes moveParticles {
        from {
          transform: translate(0, 0);
        }
        to {
          transform: translate(-50px, -50px);
        }
      }

      /* DBZ-Inspired Energy Glow */
      .energy-glow {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: radial-gradient(
          circle,
          rgba(255, 104, 140, 0.2) 0%,
          transparent 70%
        );
        mix-blend-mode: screen;
        pointer-events: none;
        animation: pulse 3s infinite;
        border-radius: inherit;
      }

      @keyframes pulse {
        0%,
        100% {
          opacity: 0.8;
        }
        50% {
          opacity: 1;
        }
      }

      /* Newest Video Section */
      .newest-video {
        position: relative;
        background: rgba(20, 20, 20, 0.95);
        padding: 20px;
        border-radius: 10px;
        margin-bottom: 40px;
        box-shadow: 0 8px 20px rgba(0, 0, 0, 0.5);
        overflow: hidden;
      }

      .newest-video h2 {
        text-align: center;
        margin-bottom: 20px;
        font-size: 1.5em;
        color: #ff688c;
      }

      .video-player-container {
        position: relative;
        width: 100%;
        max-width: 800px;
        margin: auto;
      }
      .goku-image {
        position: absolute;
        bottom: -50px;  /* adjust to place it just outside the video player container */
        left: -450px;
        right: -700;       /* or adjust as required */
        width: 450px;    /* Make it smaller, adjust as needed */
        height: auto;
        pointer-events: none; /* so it doesn't block other elements */
      }

      .video-wrapper {
        position: relative;
        padding-bottom: 56.25%;
        height: 0;
        overflow: hidden;
        border-radius: 10px;
      }

      .video-wrapper iframe {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        border: 0;
        border-radius: 10px;
      }

      .arrow-buttons {
        position: absolute;
        top: 50%;
        transform: translateY(-50%);
        width: 100%;
        max-width: 800px;
        padding: 0 20px;
        display: flex;
        justify-content: space-between;
      }

      .arrow-button {
        background: #000;
        border: none;
        color: #ff688c;
        padding: 25px;
        border-radius: 50%;
        cursor: pointer;
        transition: transform 0.3s, box-shadow 0.3s;
        width: 80px;
        height: 80px;
        display: flex;
        align-items: center;
        justify-content: center;
        box-shadow: 0 0 10px #ff688c;
        position: absolute;
        top: 40%;
      }

      .arrow-button#left-arrow {
        left: -125px;
      }

      .arrow-button#right-arrow {
        right: -125px;
      }

      .arrow-button:hover {
        transform: scale(1.1);
        box-shadow: 0 0 15px #ff688c;
      }

      .arrow-button svg {
        width: 100%;
        height: auto;
        fill: #ff688c;
      }

      @keyframes glow-pink {
        0% {
          color: #ff69b4;
        }
        100% {
          color: #ffc0cb;
        }
      }

      /* Optional: A simple slide-in animation */
      @keyframes slideIn {
        from {
          left: -150px;
          opacity: 0;
        }
        to {
          left: 0;
          opacity: 1;
        }
      }

      /* Twitch Button Hover Effect */
      .social-button.twitch-button {
        position: relative;
        width: 45px;
        height: 45px;
        background: #000;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        box-shadow: 0 0 10px #ff688c;
        transition: transform 0.3s, box-shadow 0.3s, width 0.3s,
          height 0.3s;
        color: #ff688c;
        margin-left: 10px;
        overflow: hidden;
      }

      .social-button.twitch-button:hover {
        transform: scale(1.1);
        box-shadow: 0 0 15px #ff688c;
        width: 120px;
        height: 45px;
        border-radius: 25px;
        justify-content: flex-start;
        padding-left: 10px;
      }

      .social-button.twitch-button:hover .hover-text {
        opacity: 1;
        margin-left: -20px;
      }

      .social-button.twitch-button .hover-text {
        position: absolute;
        left: 60px;
        top: 50%;
        transform: translateY(-50%);
        font-size: 1em;
        color: #ff688c;
        opacity: 0;
        transition: opacity 0.3s, margin-left 0.3s;
        white-space: nowrap;
      }

      /* Other Videos Section */
      .other-videos h2 {
        text-align: center;
        margin-bottom: 20px;
        font-size: 1.5em;
        color: #ff688c;
      }

      .video-list {
        display: flex;
        flex-wrap: wrap;
        gap: 20px;
        justify-content: center;
      }

      .video-card {
        background: rgba(30, 30, 30, 0.9);
        border-radius: 10px;
        overflow: hidden;
        width: 280px;
        box-shadow: 0 0 10px #FF688C; /* Adds pink glow */
        transition: transform 0.3s, box-shadow 0.3s;
        position: relative;
      }

      .video-card:hover {
        transform: scale(1.03);
        box-shadow: 0 0 15px #FF688C; /* Increase glow on hover */
      }

      .video-card img {
        width: 100%;
        display: block;
        transition: transform 0.3s;
      }

      .video-card:hover img {
        transform: scale(1.05);
      }

      .video-card .info {
        padding: 15px;
        background: rgba(0, 0, 0, 0.4);
      }

      .video-card .info h3 {
        font-size: 1.1em;
        margin-bottom: 10px;
        color: #ff688c;
      }

      .video-card .info p {
        font-size: 0.9em;
        color: #ccc;
      }

      /* Footer */
      footer {
        text-align: center;
        padding: 20px;
        background: #1a1a1a;
        margin-top: 40px;
        font-size: 0.8em;
      }
    </style>
  </head>
  <body>
    <!-- Header with Social Media Buttons -->
    <header>
      <h1>Retrora & Co.</h1>
      <div class="social-links">
        <!-- Twitch -->
        <a
          href="https://www.twitch.tv/Retrora/"
          target="_blank"
          class="social-button"
          title="Twitch"
        >
          <i class="fab fa-twitch fa-lg"></i>
        </a>
        <!-- YouTube -->
        <a
          href="https://www.youtube.com/@RetroraAndCo"
          target="_blank"
          class="social-button"
          title="YouTube"
        >
          <i class="fab fa-youtube fa-lg"></i>
        </a>
        <!-- Live Channel -->
        <a
          href="https://www.youtube.com/@RetroraLIVE"
          target="_blank"
          class="social-button"
          title="Live Channel"
        >
          <i class="fas fa-video fa-lg"></i>
        </a>
        <!-- Twitter -->
        <a
          href="https://twitter.com/Retrora"
          target="_blank"
          class="social-button"
          title="Twitter"
        >
          <i class="fab fa-twitter fa-lg"></i>
        </a>
        <!-- Instagram -->
        <a
          href="https://www.instagram.com/retrora.co"
          target="_blank"
          class="social-button"
          title="Instagram"
        >
          <i class="fab fa-instagram fa-lg"></i>
        </a>
        <!-- Discord -->
        <a
          href="https://discord.com/invite/Retrora"
          target="_blank"
          class="social-button"
          title="Discord"
        >
          <i class="fab fa-discord fa-lg"></i>
        </a>
        <!-- Patreon -->
        <a
          href="https://www.patreon.com/Retrora"
          target="_blank"
          class="social-button"
          title="Patreon"
        >
          <i class="fab fa-patreon fa-lg"></i>
        </a>
        <!-- TikTok -->
        <a
          href="https://www.tiktok.com/@retrora?"
          target="_blank"
          class="social-button"
          title="TikTok"
        >
          <i class="fab fa-tiktok fa-lg"></i>
        </a>
        <!-- Steam Community -->
        <a
          href="https://steamcommunity.com/groups/Retrora"
          target="_blank"
          class="social-button"
          title="Steam Community"
        >
          <i class="fab fa-steam fa-lg"></i>
        </a>
        <!-- Bluesky (using SVG icon) -->
        <a
          href="https://bsky.app/profile/retrora.bsky.social"
          target="_blank"
          class="social-button bluesky"
          title="Bluesky"
        >
          <svg
            role="img"
            viewBox="0 0 24 24"
            xmlns="http://www.w3.org/2000/svg"
          >
            <title>Bluesky</title>
            <path
              d="M12 10.8c-1.087-2.114-4.046-6.053-6.798-7.995C2.566.944 1.561 1.266.902 1.565.139 1.908 0 3.08 0 
            3.768c0 .69.378 5.65.624 6.479.815 2.736 3.713 3.66 6.383 3.364.136-.02.275-.039.415-.056-.138.022-.276.04-.415.056-3.912.58-7.387
            2.005-2.83 7.078 5.013 5.19 6.87-1.113 7.823-4.308.953 3.195 2.05 9.271 7.733 4.308 4.267-4.308 1.172-6.498-2.74-7.078a8.741 
            8.741 0 0 1-.415-.056c.14.017.279.036.415.056 2.67.297 5.568-.628 6.383-3.364.246-.828.624-5.79.624-6.478 0-.69-.139-1.861-.902-2.206-.659-.298-1.664-.62-4.3 
            1.24C16.046 4.748 13.087 8.687 12 10.8Z"
            />
          </svg>
        </a>
      </div>
    </header>

    <!-- Main Content -->
<!-- Main Content -->
<div class="container">
  <!-- Newest Video Section -->
  <section class="newest-video">
    <div class="energy-glow"></div>
    <h2 id="channel-name">Newest Video</h2>
    <div class="video-player-container">
      <button
        class="arrow-button"
        onclick="switchChannel(-1)"
        id="left-arrow"
        style="display: none;"
      >
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
          <path
            d="M13.7,8.3c-0.4-0.4-1-0.4-1.4,0l-3,3c-0.4,0.4-0.4,1,0,1.4l3,3c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3
            c0.4-0.4,0.4-1,0-1.4L11.4,12l2.3-2.3C14.1,9.3,14.1,8.7,13.7,8.3z"
          />
        </svg>
      </button>
      <div class="video-wrapper" id="newest-video">
        <!-- Newest video iframe will be injected here -->
      </div>
      <button
        class="arrow-button"
        onclick="switchChannel(1)"
        id="right-arrow"
      >
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
          <path
            d="M10.3,15.7c0.4,0.4,1,0.4,1.4,0l3-3c0.4-0.4,0.4-1,0-1.4l-3-3c-0.2-0.2-0.5-0.3-0.7-0.3s-0.5,0.1-0.7,0.3
            C9.9,9.3,9.9,9.7,10.3,10.1L12.6,12l-2.3,2.3C9.9,14.7,9.9,15.3,10.3,15.7z"
          />
        </svg>
      </button>
    </div>
  </section>
  <img
        src="https://images-wixmp-ed30a86b8c4ca887773594c2.wixmp.com/f/98637334-bc41-40b8-bd54-1ddc2fff5661/dh30yim-f9d07b93-36f0-4806-8133-2ba548de1c08.png/v1/fit/w_544,h_1108/goku_manga_png__redraw_and_recolor_by_me__by_drzackedit_dh30yim-375w-2x.png?token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1cm46YXBwOjdlMGQxODg5ODIyNjQzNzNhNWYwZDQxNWVhMGQyNmUwIiwiaXNzIjoidXJuOmFwcDo3ZTBkMTg4OTgyMjY0MzczYTVmMGQ0MTVlYTBkMjZlMCIsIm9iaiI6W1t7ImhlaWdodCI6Ijw9MTEwOCIsInBhdGgiOiJcL2ZcLzk4NjM3MzM0LWJjNDEtNDBiOC1iZDU0LTFkZGMyZmZmNTY2MVwvZGgzMHlpbS1mOWQwN2I5My0zNmYwLTQ4MDYtODEzMy0yYmE1NDhkZTFjMDgucG5nIiwid2lkdGgiOiI8PTU0NCJ9XV0sImF1ZCI6WyJ1cm46c2VydmljZTppbWFnZS5vcGVyYXRpb25zIl19.z0ywrvH_xBKMjHLBivjDBBeJoqDQXxBEEk3xleGuwnA"
        alt="Goku Manga"
        class="goku-image"
      >
  <!-- Other Videos Section -->
  <section class="other-videos">
    <h2>Other Videos</h2>
    <div class="video-list" id="other-videos">
      <!-- Additional video cards will be injected here -->
    </div>
    <div class="load-more-buttons">
      <button
        class="load-more-button"
        onclick="loadMoreVideos(-1)"
        id="load-more-left"
        style="display: none;"
      >
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
          <path
            d="M13.7,8.3c-0.4-0.4-1-0.4-1.4,0l-3,3c-0.4,0.4-0.4,1,0,1.4l3,3c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3
            c0.4-0.4,0.4-1,0-1.4L11.4,12l2.3-2.3C14.1,9.3,14.1,8.7,13.7,8.3z"
          />
        </svg>
      </button>
      <button
        class="load-more-button"
        onclick="loadMoreVideos(1)"
        id="load-more-right"
      >
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
          <path
            d="M10.3,15.7c0.4,0.4,1,0.4,1.4,0l3-3c0.4-0.4,0.4-1,0-1.4l-3-3c-0.2-0.2-0.5-0.3-0.7-0.3s-0.5,0.1-0.7,0.3
            C9.9,9.3,9.9,9.7,10.3,10.1L12.6,12l-2.3,2.3C9.9,14.7,9.9,15.3,10.3,15.7z"
          />
        </svg>
      </button>
    </div>
  </section>
</div>

<footer
  style="display: grid; grid-template-columns: 1fr auto 1fr; align-items: center; padding: 10px 20px;"
>
  <!-- Left empty cell -->
  <div></div>
  <!-- Centered Text -->
  <p style="grid-column: 2; text-align: center; margin: 0;">
    &copy; uhhh balls. Made by EmoteFroggy
  </p>
  <!-- Right-aligned Image -->
  <img
    src="https://cdn.7tv.app/emote/01FDN968X80006SC5NBG2SYP3A/4x.avif"
    alt="Footer Emote"
    style="grid-column: 3; justify-self: end; width: 50px;"
  />
</footer>


<script>
  const API_KEY = 'AIzaSyDzjkseEXYMO0LV2wn1bxbQmZ9ylu2cbSw';
  const CHANNEL_IDS = ['UC0JqWDXiBBaw7_-aL6DByHw', 'UCXJyOrMtXJxGwv1x_tH4MYA'];
  const CHANNEL_NAMES = ['Retrora & Co.', 'Retrora Live'];
  let currentChannelIndex = 0;
  let currentPageToken = null;
  let nextPageTokens = [null, null];
  let prevPageTokens = [null, null];
  let cachedData = {};

  async function fetchNewestVideo(channelId, elementId) {
    try {
      if (cachedData[channelId] && cachedData[channelId].newestVideo) {
        const video = cachedData[channelId].newestVideo;
        document.getElementById(elementId).innerHTML = `
          <iframe src="https://www.youtube.com/embed/${video.id.videoId}" allowfullscreen></iframe>
        `;
        return;
      }

      const response = await fetch(`https://www.googleapis.com/youtube/v3/search?key=${API_KEY}&channelId=${channelId}&part=snippet,id&order=date&maxResults=1`);
      const data = await response.json();
      console.log('Newest Video Response:', data);

      if (data.items && data.items.length > 0) {
        const video = data.items[0];
        document.getElementById(elementId).innerHTML = `
          <iframe src="https://www.youtube.com/embed/${video.id.videoId}" allowfullscreen></iframe>
        `;
        if (!cachedData[channelId]) {
          cachedData[channelId] = {};
        }
        cachedData[channelId].newestVideo = video;
      } else {
        console.log('No videos found for channel:', channelId);
        document.getElementById(elementId).innerHTML = '<p>No videos available.</p>';
      }
    } catch (error) {
      console.error('Error fetching newest video:', error);
      document.getElementById(elementId).innerHTML = '<p>Error loading video.</p>';
    }
  }

  async function fetchOtherVideos(channelId, pageToken = null) {
    try {
      const cacheKey = `${channelId}_${pageToken || 'initial'}`;
      if (cachedData[channelId] && cachedData[channelId][cacheKey]) {
        const videos = cachedData[channelId][cacheKey];
        const otherVideosContainer = document.getElementById('other-videos');
        otherVideosContainer.innerHTML = '';
        videos.forEach(video => {
          otherVideosContainer.innerHTML += `
            <div class="video-card">
              <img src="${video.snippet.thumbnails.medium.url}" alt="${video.snippet.title}">
              <div class="info">
                <h3>${video.snippet.title}</h3>
                <p>${video.snippet.description.substring(0, 100)}...</p>
              </div>
            </div>
          `;
        });
        document.getElementById('load-more-left').style.display = prevPageTokens[currentChannelIndex] ? 'block' : 'none';
        document.getElementById('load-more-right').style.display = nextPageTokens[currentChannelIndex] ? 'block' : 'none';
        return;
      }

      const response = await fetch(`https://www.googleapis.com/youtube/v3/search?key=${API_KEY}&channelId=${channelId}&part=snippet,id&order=date&maxResults=10&pageToken=${pageToken || ''}`);
      const data = await response.json();
      console.log('Other Videos Response:', data);

      nextPageTokens[currentChannelIndex] = data.nextPageToken;
      prevPageTokens[currentChannelIndex] = data.prevPageToken;

      if (data.items && data.items.length > 0) {
        const otherVideosContainer = document.getElementById('other-videos');
        otherVideosContainer.innerHTML = '';
        data.items.forEach(video => {
          otherVideosContainer.innerHTML += `
            <div class="video-card">
              <img src="${video.snippet.thumbnails.medium.url}" alt="${video.snippet.title}">
              <div class="info">
                <h3>${video.snippet.title}</h3>
                <p>${video.snippet.description.substring(0, 100)}...</p>
              </div>
            </div>
          `;
        });

        if (!cachedData[channelId]) {
          cachedData[channelId] = {};
        }
        cachedData[channelId][cacheKey] = data.items;

        document.getElementById('load-more-left').style.display = prevPageTokens[currentChannelIndex] ? 'block' : 'none';
        document.getElementById('load-more-right').style.display = nextPageTokens[currentChannelIndex] ? 'block' : 'none';
      } else {
        console.log('No videos found.');
        document.getElementById('other-videos').innerHTML = '<p>No videos available.</p>';
      }
    } catch (error) {
      console.error('Error fetching other videos:', error);
      document.getElementById('other-videos').innerHTML = '<p>Error loading videos.</p>';
    }
  }

  function switchChannel(direction) {
    currentChannelIndex = (currentChannelIndex + direction + CHANNEL_IDS.length) % CHANNEL_IDS.length;
    const channelId = CHANNEL_IDS[currentChannelIndex];
    const channelName = CHANNEL_NAMES[currentChannelIndex];

    document.getElementById('channel-name').textContent = `Newest Video from ${channelName}`;
    fetchNewestVideo(channelId, 'newest-video');
    fetchOtherVideos(channelId);

    document.getElementById('left-arrow').style.display = currentChannelIndex === 0 ? 'none' : 'block';
    document.getElementById('right-arrow').style.display = currentChannelIndex === CHANNEL_IDS.length - 1 ? 'none' : 'block';
  }

  function loadMoreVideos(direction) {
    const channelId = CHANNEL_IDS[currentChannelIndex];
    const tokenToUse = direction === 1 ? nextPageTokens[currentChannelIndex] : prevPageTokens[currentChannelIndex];
    fetchOtherVideos(channelId, tokenToUse);
  }

  // Initialize with the first channel
  switchChannel(0);
</script>
</body>
</html>
